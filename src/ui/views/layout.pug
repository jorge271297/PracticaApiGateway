doctype html
html(lang="es")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1")
    title Demo API Gateway - Tienda Online
    link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css")
    link(rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css")
    style.
      body { 
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding-bottom: 50px;
      }
      .navbar {
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      }
      .content-wrapper {
        background: white;
        border-radius: 15px;
        padding: 30px;
        margin-top: 30px;
        box-shadow: 0 5px 20px rgba(0,0,0,0.1);
      }
      .btn-carrito {
        position: relative;
      }
      .badge-carrito {
        position: absolute;
        top: -5px;
        right: -5px;
      }
  body
    // Navbar de navegación
    nav.navbar.navbar-expand-lg.navbar-dark.bg-dark
      .container-fluid
        a.navbar-brand(href="/")
          i.fas.fa-shopping-cart.me-2
          | API Gateway Store
        button.navbar-toggler(type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav")
          span.navbar-toggler-icon
        .collapse.navbar-collapse#navbarNav
          ul.navbar-nav.me-auto
            li.nav-item
              a.nav-link(href="/" class=(currentPage==='home' ? 'active' : ''))
                i.fas.fa-home.me-1
                | Inicio
            if login
              li.nav-item
                a.nav-link(href="/productos" class=(currentPage==='productos' ? 'active' : ''))
                  i.fas.fa-box.me-1
                  | Productos
              li.nav-item
                a.nav-link(href="/carrito" class=(currentPage==='carrito' ? 'active' : ''))
                  i.fas.fa-shopping-cart.me-1
                  | Carrito
                  if carritoCount
                    span.badge.bg-danger.ms-1= carritoCount
              li.nav-item
                a.nav-link(href="/perfil" class=(currentPage==='perfil' ? 'active' : ''))
                  i.fas.fa-user.me-1
                  | Perfil
          ul.navbar-nav
            if !login
              li.nav-item
                a.nav-link(href="/registro")
                  i.fas.fa-user-plus.me-1
                  | Registro
            else
              li.nav-item
                a.nav-link(href="/logout")
                  i.fas.fa-sign-out-alt.me-1
                  | Cerrar Sesión

    // Contenido principal
    .container
      .content-wrapper
        block content
    
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js")