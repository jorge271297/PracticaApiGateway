extends layout

block content
  .d-flex.justify-content-between.align-items-center.mb-4
    h2
      i.fas.fa-boxes.me-2.text-primary
      | Catálogo de Productos
    if productos && productos.length
      span.badge.bg-primary.fs-6 #{productos.length} productos disponibles
  
  if error
    .alert.alert-danger
      i.fas.fa-exclamation-triangle.me-2
      | #{error}
  
  if productos && productos.length > 0
    .row.row-cols-1.row-cols-md-2.row-cols-lg-3.row-cols-xl-4.g-4
      each p in productos
        .col
          .card.h-100.shadow-sm.border-0.hover-card(style="transition: transform 0.2s;")
            .card-body.d-flex.flex-column
              .text-center.mb-3
                i.fas.fa-box.fa-3x.text-primary.opacity-75
              
              h5.card-title.text-truncate(title=p.nombre)
                | #{p.nombre}
              
              .mb-2
                span.badge.bg-info.me-2
                  i.fas.fa-tag.me-1
                  | #{p.categoria}
                if p.marca
                  span.badge.bg-secondary
                    i.fas.fa-copyright.me-1
                    | #{p.marca}
              
              .mb-2
                small.text-muted
                  i.fas.fa-barcode.me-1
                  | SKU: #{p.sku}
              
              .mb-2
                h4.text-success.mb-0
                  i.fas.fa-dollar-sign.me-1
                  | #{p.precio}
              
              .mb-3
                if p.stock > 10
                  span.badge.bg-success
                    i.fas.fa-check-circle.me-1
                    | Stock: #{p.stock}
                else if p.stock > 0
                  span.badge.bg-warning.text-dark
                    i.fas.fa-exclamation-triangle.me-1
                    | Últimas #{p.stock} unidades
                else
                  span.badge.bg-danger
                    i.fas.fa-times-circle.me-1
                    | Agotado
              
              .mt-auto
                a.btn.btn-primary.w-100(href=`/producto/${p.sku}`)
                  i.fas.fa-eye.me-2
                  | Ver Detalle
    
    style.
      .hover-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.2) !important;
      }
  else
    .alert.alert-info.text-center.py-5
      i.fas.fa-inbox.fa-3x.mb-3.d-block
      h4 No hay productos disponibles
      p.text-muted Vuelve más tarde para ver nuestro catálogo